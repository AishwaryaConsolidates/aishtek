{
  "Description": "Aishtek Aishtrack Service",
  "Parameters" : {
  },
  "Conditions" : {

  },
  "Globals": {
    "Api" : {
      "Cors": {
        "AllowMethods" : "'*'",
        "AllowHeaders" : "'*'",
        "AllowOrigin"  : "'*'"
      }
    }
  },
  "Resources": {
    "CreateWorkOrder": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.CreateWorkOrder",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/createWorkOrder",
              "Method": "post"
            }
          }
        }
      }
    },
    "CreateServiceReport": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.CreateServiceReport",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/createServiceReport",
              "Method": "post"
            }
          }
        }
      }
    },
    "GetCustomers": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetCustomers",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getCustomers",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetCustomer": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetCustomer",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getCustomer",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetCustomerPersons": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetCustomerPersons",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getCustomerPersons",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetTechnicians": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetTechnicians",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getTechnicians",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetWorkOrders": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetWorkOrders",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getWorkOrders",
              "Method": "get"
            }
          }
        }
      }
    },
    "ViewServiceReport": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.ViewServiceReport",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/viewServiceReport",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetServiceReports": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetServiceReports",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getServiceReports",
              "Method": "get"
            }
          }
        }
      }
    },
    "updateVisit": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.UpdateVisit",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/updateVisit",
              "Method": "post"
            }
          }
        }
      }
    },
    "GetVisits": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetVisits",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getVisits",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetVisit": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetVisit",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getVisit",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetCategories": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetCategories",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getCategories",
              "Method": "get"
            }
          }
        }
      }
    },
    "GetEquipments": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GetEquipments",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/getEquipments",
              "Method": "get"
            }
          }
        }
      }
    },
    "GeneratePreSignedURL": {
      "Type": "AWS::Serverless::Function",
      "Properties": {
        "Handler": "com.aishtek.aishtrack.function.GeneratePreSignedURL",
        "Runtime" : "java8",
        "CodeUri" : "./target/aishtrack-1.0.0.jar",
        "Policies": [
          "AWSLambdaBasicExecutionRole",
          "AmazonRDSDataFullAccess",
          "AWSLambdaVPCAccessExecutionRole",
          "AmazonS3FullAccess"
        ],
        "Environment" : {
        },
        "Events": {
          "PutResource": {
            "Type": "Api",
            "Properties": {
              "Path": "/generatePreSignedURL",
              "Method": "post"
            }
          }
        }
      }
    }
  },
  "Outputs" : {
  }
}
